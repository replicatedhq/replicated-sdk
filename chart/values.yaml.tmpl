# Default values for replicated.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

global:
  imageRegistry: ""

# Additional labels to add to all resources created by this chart
commonLabels: {}
  # app.kubernetes.io/part-of: my-app
  # environment: production

# Additional annotations to add to resources
commonAnnotations: {}
  # example.com/annotation: value
  # prometheus.io/scrape: "true"

# Deployment configuration
replicaCount: 1

# Pod restart policy
# Options: Always, OnFailure, Never
restartPolicy: Always

# Deployment update strategy
# Ref: https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#strategy
strategy: {}
  # type: RollingUpdate
  # rollingUpdate:
  #   maxSurge: 1
  #   maxUnavailable: 0

# Deprecated: Use .Values.image instead of .Values.images
# The following properties for the Replicated SDK image are deprecated:
# 
# images:
#   replicated-sdk: ${REPLICATED_REGISTRY}/replicated/replicated-sdk:${REPLICATED_TAG}

# Replicated SDK image properties
# If .Values.images is set, it takes precedence over the following settings.
image:
  registry: ${REPLICATED_REGISTRY}
  repository: "replicated/replicated-sdk"
  tag: "${REPLICATED_TAG}"
  pullPolicy: IfNotPresent

# NOTE: The following values are typically injected by the Replicated Registry and should not be modified directly
license: ""
licenseFields: ""
appName: ""
channelID: ""
channelName: ""
channelSequence: -1
releaseSequence: -1
releaseCreatedAt: ""
releaseNotes: ""
versionLabel: ""
parentChartURL: ""
statusInformers: null
replicatedAppEndpoint: ""

# Domain for the Replicated App Service - takes precedence over replicatedAppEndpoint if set
# If not specified, the default domain "replicated.app" will be used
# Should not include the protocol, just the domain name
replicatedAppDomain: ""

serviceAccountName: ""
clusterRole: ""
imagePullSecrets: []
nameOverride: ""
namespaceOverride: ""

# Additional labels to add to the pod template
podLabels: {}
  # example.com/custom-label: value

# Pod security context
# Set to null to disable
podSecurityContext:
  runAsUser: 1001
  runAsGroup: 1001
  fsGroup: 1001
  supplementalGroups: [1001]
  seccompProfile:
    type: "RuntimeDefault"

# Container security context
# Set to null to disable
containerSecurityContext:
  runAsNonRoot: true
  readOnlyRootFilesystem: true
  allowPrivilegeEscalation: false
  capabilities:
    drop: ["ALL"]

# Container resource requirements
# Leave empty to remove resource constraints
resources:
  limits:
    cpu: 500m
    memory: 500Mi
  requests:
    cpu: 100m
    memory: 100Mi

# Readiness probe configuration
readinessProbe:
  httpGet:
    path: /healthz
    port: 3000
    scheme: HTTP
  failureThreshold: 3
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 1
  successThreshold: 1

service:
  type: ClusterIP
  port: 3000

privateCAConfigmap: ~
privateCASecret: ~

extraEnv: []

# "integration" mode related values.
integration:
  licenseID: ""
  # enabled: false
  mockData: ""

isAirgap: false

replicatedID: ""
appID: ""

tolerations: []

affinity: ~

nodeSelector: {}
